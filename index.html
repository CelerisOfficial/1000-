<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNDCTP Chatbot</title>
    <style>
        /* Genel sıfırlama */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
            background-color: #343541;
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #e5e5e5;
        }
        .chat-container {
            width: 90vw;
            height: 90vh;
            background-color: #40414f;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        .chat-header {
            background-color: #343541;
            color: #fafafa;
            text-align: center;
            padding: 16px;
            font-size: 1.5rem;
            font-weight: bold;
            border-bottom: 1px solid #565666;
        }
        .chat-messages {
            flex: 1;
            padding: 16px;
            overflow-y: auto;
        }
        .chat-input-area {
            display: flex;
            background-color: #343541;
            border-top: 1px solid #565666;
        }
        .chat-input {
            flex: 1;
            padding: 12px 16px;
            border: none;
            font-size: 1rem;
            font-weight: 600;
            background-color: #444654;
            color: #e5e5e5;
        }
        .chat-input::placeholder {
            color: #999;
        }
        .chat-input:focus {
            outline: none;
        }
        .chat-send-btn {
            background-color: #10a37f;
            color: white;
            border: none;
            padding: 12px 20px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
        }
        .chat-send-btn:hover {
            background-color: #0d7b61;
        }
        .message {
            margin-bottom: 16px;
            line-height: 1.5;
            display: flex;
        }
        .message.user {
            justify-content: flex-end;
        }
        .message.bot {
            justify-content: flex-start;
        }
        .message .bubble {
            max-width: 70%;
            padding: 12px 16px;
            border-radius: 12px;
            font-weight: 500;
            white-space: pre-wrap;
        }
        .message.user .bubble {
            background-color: #19a974;
            color: #ffffff;
            border-bottom-right-radius: 4px;
            border-bottom-left-radius: 12px;
            border-top-left-radius: 12px;
            border-top-right-radius: 12px;
        }
        .message.bot .bubble {
            background-color: #444654;
            color: #e5e5e5;
            border-bottom-left-radius: 4px;
            border-bottom-right-radius: 12px;
            border-top-left-radius: 12px;
            border-top-right-radius: 12px;
        }
        /* Responsive tasarım */
        @media (max-width: 768px) {
            .chat-container {
                width: 98vw;
                height: 98vh;
                border-radius: 0;
            }
            .chat-header {
                font-size: 1.2rem;
                padding: 12px;
            }
            .chat-input {
                font-size: 0.9rem;
                padding: 10px 12px;
            }
            .chat-send-btn {
                font-size: 0.9rem;
                padding: 10px 16px;
            }
        }
        /* Boş yorum satırları ve satır sayısını artırmak için */
    </style>
</head>
<body>

<div class="chat-container">
    <div class="chat-header">UNDCTP</div>
    <div class="chat-messages" id="chatMessages">
        <!-- Mesajlar burada görünecek -->
    </div>
    <div class="chat-input-area">
        <input type="text" id="userInput" class="chat-input" placeholder="Mesajınızı yazın...">
        <button id="sendBtn" class="chat-send-btn">Gönder</button>
    </div>
</div>

<script>
    // Bellek: kullanıcı adını saklamak için
    var userName = "";

    // Genişletilmiş genel sohbet yanıtları (farklı durumlar için daha fazla seçenek)
    var generalResponses = [
        "Elbette, nasıl yardımcı olabilirim?",
        "Harika bir soru, detaylandırabilir misiniz?",
        "Bu konuda geniş bir bakış açısı sunabilirim, sormak istediğiniz spesifik bir şey var mı?",
        "Dilediğiniz başka bir konuda da konuşabiliriz.",
        "Bunu anladım, üzerimdeki bilgiyi paylaşıyorum..."
    ];

    // Selamlaşma yanıtları ("selam", "merhaba" gibi)
    var greetingResponses = [
        "Merhaba! Nasılsın?",
        "Selam! Sana nasıl yardımcı olabilirim?",
        "Hoş geldin! Bugün neler yapmak istersin?",
        "Merhaba dostum! Konuşmak istediğin bir konu var mı?",
        "Selam! Hadi bir şeyler keşfedelim."
    ];

    // Kelime dağarcığı (domain-specific + genel ifadeler)
    var domainVocabulary = {
        "matematik": [
            "Topoloji", "Diferansiyel Denklemler", "Lineer Cebir", "Çok Değişkenli Analiz", "Öklidyen Uzay",
            "Fourier Analizi", "Polinom Teorisi", "Diziler ve Seriler", "Kombinatorik", "Olasılık Teorisi",
            "İstatistiksel İnferans", "Varyans ve Kovaryans", "Matris Teorisi", "Determinant", "Eigen Değerler",
            "Norm ve İç Çarpım", "Çok Boyutlu Optimizasyon", "Dalga Teorisi", "Laplace Dönüşümü", "Hilbert Uzayı",
            "Fonksiyonel Analiz", "Riemann Teorisi", "Analitik Sayılar Kuramı", "Sayı Teorisi", "Graf Teorisi",
            "Karmaşıklık Teorisi", "Paradokslar ve Teoremler", "Koordinat Dönüşümleri", "Sonsuz Küme Teorisi", "Fourier Dönüşümü",
            "Lagrange Çarpanları", "Euler-Lagrange Denklemleri", "Nümerik Metotlar", "İntegral Yaklaşımları", "Cauchy Deneyimi",
            "Bessel Fonksiyonları", "Hermite Polinomları", "Laguerre Polinomları", "Kuantum Geometri", "Matrix Hesaplama",
            "Serbest Kalma Fonksiyonları", "Kalıntı Teoremi", "Euler Teoremleri", "Lineer Dönüşümler", "Eigen Vektörler"
        ],
        "biyoloji": [
            "Deoksiribonükleik Asit (DNA)", "Ribonükleik Asit (RNA)", "Genomik Sekanslama", "Protein Sentezi", "Hücre Bölünmesi",
            "Mitoz ve Mayoz", "Kromozom Yapısı", "Epigenetik Modifikasyon", "Transkripsiyon Faktörleri", "Genetik Kod",
            "Mutasyonlar", "Genetik Rekombinasyon", "Enzim Kinetiği", "Hücre Sinyalizasyonu", "Hücresel Solunum",
            "Glikoliz", "Krebs Döngüsü", "ATP Sentezi", "Fotosentez Reaksiyonları", "Mitokondriyal DNA",
            "Kloroplast Yapısı", "Biyoinformatik", "Fosfolipid Çift Katman", "Hücre Zarı Transportu", "Aktin ve Miyozin",
            "Hücre İskeleti", "Nörotransmitter Salınımı", "Sinaps Yapısı", "Endoplazmik Retikulum", "Golgi Aygıtı",
            "Lizozom", "Peroksizom", "Hücre Döngüsü Düzenleyicileri", "Onkogen ve Tümör Baskılayıcı Gen", "Apoptoz ve Nekroz",
            "İmmünolojik Yanıt", "Antikor Özellikleri", "B Lenfositleri ve T Lenfositleri", "Sitokin Sinyalizasyonu", "Mikrobiyom Ekosistemleri",
            "Popülasyon Genetiği", "Evrimsel Biyoloji Kuramları", "Fosil Kayıtları", "Moleküler Biyoloji Yöntemleri", "Protein Katlanması"
        ],
        "fizik": [
            "Kuantum Mekaniği", "Görelilik Kuramı", "Özel Görelilik", "Genel Görelilik", "Kara Delik Termodinamiği",
            "Parçacık Fiziği", "Standart Model", "Bozon ve Fermion", "Higgs Bozonu", "Nükleer Fizik",
            "Radyasyon Fiziği", "Termodinamik Yasaları", "Entropi ve Enerji Değişimi", "Isı Kapasitesi", "Dalga-Parçacık İkiliği",
            "Schrödinger Denklemi", "Heisenberg Belirsizlik İlkesi", "Elektrik ve Manyetizma", "Maxwell Denklemleri", "Elektromanyetik Spektrum",
            "Optik ve Kırınım", "Lazer Fiziği", "Katı Hal Fiziği", "Yarı İletken Diyagramları", "Süperiletkenlik",
            "Spintronik", "Plazma Fiziği", "Kuantum Alan Teorisi", "Karanlık Madde", "Karanlık Enerji",
            "Kozmoloji ve Evren Modeli", "Büyük Patlama Kuramı", "Astronomi ve Galiksi Dinamikleri", "Rölativistik Partiküller", "Nötron Yıldızları",
            "Süpernova Patlamaları", "Kozmik Işınlar", "Plank Uzay Zamanı", "Feynman Diyagramları", "Lagrange Fonksiyonu"
        ],
        "din": [
            "İslam", "Hristiyanlık", "Yahudilik", "Budizm", "Hinduizm", "Sikhizm", "Şinto", "Konfüçyüsçülük",
            "Taoizm", "Zerdüşt", "Sufizm", "Protestanlık", "Katoliklik", "Ortodoksluk", "Musevilik",
            "Zen", "Meditasyon Teknikleri", "Kutsal Kitaplar", "Kutsal Mekanlar", "İbadet Pratikleri",
            "Dini Bayramlar", "Ruhbanlık", "Müritler", "Hac", "Kurban", "Dua ve Ritüeller"
        ],
        "yazılım": [
            "Algoritma", "Veri Yapıları", "Sürekli Entegrasyon", "REST API", "Makine Öğrenmesi",
            "Yapay Sinir Ağları", "Python Programlama", "JavaScript FrameWork'leri", "Veri Tabanı Tasarımı", "Bulut Bilişim",
            "Docker Konteynerleri", "Kubernetes Orkestrasyonu", "Versiyon Kontrol (Git)", "Backend Mimarileri", "Frontend Geliştirme",
            "Web Güvenliği", "Yazılım Mühendisliği Prensipleri", "Test Otomasyonu", "Mobil Uygulama Geliştirme", "Oyun Motorları",
            "Oyun Fizik Motoru", "Gerçek Zamanlı İşleme", "Kriptografi", "Blockchain Teknolojisi", "Sanal Gerçeklik"
        ],
        "tarih": [
            "Osmanlı İmparatorluğu", "Rönesans", "Soğuk Savaş", "Endüstri Devrimi", "İstanbul'un Fethi",
            "Fransız Devrimi", "Amerikan Bağımsızlık Savaşı", "İkinci Dünya Savaşı", "Soğuk Savaş Dönemi", "Roma İmparatorluğu",
            "Antik Mısır", "Büyük İskender", "Moğol İmparatorluğu", "Sanayi Devrimi", "1980 Darbesi",
            "2. Meşrutiyet", "Cumhuriyetin Kuruluşu", "Türk Kurtuluş Savaşı", "Osmanlı Kültürü", "Haçlı Seferleri",
            "Orta Çağ", "Rönesans Sanatı", "Aydınlanma Çağı", "Sanayi 4.0", "Dünya Ticaret Örgütü"
        ],
        "edebiyat": [
            "Romantizm", "Realizm", "Postmodernizm", "Şiir", "Roman",
            "Modernizm", "Nurcular", "Divan Edebiyatı", "Servet-i Fünun", "Geleneksel Türk Tiyatrosu",
            "Masal ve Hikaye", "Mitoloji", "Shakespeare", "Tolstoy", "Dante",
            "Kafka", "Nietzsche Yazıları", "Edebiyat Kuramları", "Eleştirel Teori", "Dramatik Yapı",
            "Çağdaş Türk Edebiyatı", "Şiirsel Anlatım Teknikleri", "Epik Şiir", "Lirik Şiir", "Tiyatro Sahneleme"
        ]
    };

    // Kullanıcının sorusunu al ve yanıt oluştur
    function generateResponse(userText) {
        var lowerText = userText.toLowerCase();

        // Selamlaşma kontrolü
        var greetings = ["merhaba", "selam", "sa", "hello", "hi", "günaydın", "iyi akşamlar"];
        for (var g = 0; g < greetings.length; g++) {
            if (lowerText === greetings[g] || lowerText.includes(greetings[g] + " ") || lowerText.startsWith(greetings[g] + ".") || lowerText.startsWith(greetings[g] + "!")) {
                return greetingResponses[Math.floor(Math.random() * greetingResponses.length)];
            }
        }

        var response = generalResponses[Math.floor(Math.random() * generalResponses.length)];

        // Kullanıcı adını kaydetme: "benim adım..."
        if (lowerText.startsWith("benim adım ")) {
            var name = userText.substring(10).trim();
            userName = name;
            return "Memurum, adınızı hatırladım: " + userName;
        }
        // "ben kimim" veya "adım ne"
        if (lowerText.includes("ben kimim") || lowerText.includes("adım ne")) {
            if (userName !== "") {
                return "Adınız: " + userName;
            } else {
                return "Adınızı henüz kaydetmedim. 'Benim adım ...' şeklinde söyleyebilirsiniz.";
            }
        }

        // Kimlik/soru yanıtları
        if (lowerText.includes("sen kimsin")) {
            return "Ben UNDCTP adlı bir yapay zekayım.";
        }
        if (lowerText.includes("sen robot musun")) {
            return "Hayır, ben bir yapay zekâyım, fiziksel bir robot değilim.";
        }
        if (lowerText.includes("sen erkek misin") || lowerText.includes("sen bekar misin")) {
            return "Benim cinsiyetim veya medeni halim yok, ben sadece bir yapay zekayım.";
        }
        if (lowerText.includes("sen insan misin")) {
            return "Hayır, ben bir yapay zekayım, insan değilim.";
        }
        if (lowerText.includes("sen yemek yer misin")) {
            return "Ben bir yapay zekayım, fiziksel bir vücudum olmadığı için yemek yemem.";
        }
        if (lowerText.includes("sen su içer misin")) {
            return "Ben bir yapay zekayım, su içme ihtiyacım yok.";
        }

        // Illegal / suça yönelik sorular
        var illegalKeywords = ["illegal", "suç", "kaçak", "uyuşturucu", "bomb", "hırsızlık", "dolandırıcılık", "hack", "yasadışı"];
        for (var i = 0; i < illegalKeywords.length; i++) {
            if (lowerText.includes(illegalKeywords[i])) {
                return "Bu konu hakkında cevap veremem, bu suç. Lütfen böyle işlere girişmeyin.";
            }
        }

        // Domain eşleştirme ve kelime önerme (term bazlı kontrol)
        for (var domain in domainVocabulary) {
            if (lowerText.includes(domain)) {
                var terms = domainVocabulary[domain];
                var term = terms[Math.floor(Math.random() * terms.length)];
                return domain.charAt(0).toUpperCase() + domain.slice(1) + " alanında bahsettiniz. Örneğin: '" + term + "'. Bu konuda daha ayrıntılı bilgi edinebilirsiniz.";
            }
            var termsList = domainVocabulary[domain];
            for (var j = 0; j < termsList.length; j++) {
                var lowerTerm = termsList[j].toLowerCase();
                if (lowerText.includes(lowerTerm)) {
                    return domain.charAt(0).toUpperCase() + domain.slice(1) + " alanında bahsettiniz. Örneğin: '" + termsList[j] + "'. Bu konuda daha ayrıntılı bilgi edinebilirsiniz.";
                }
            }
        }

        // “nasıl”, “neden” gibi soru yönlendirici kelimeler
        if (lowerText.includes("nasıl") || lowerText.includes("neden") || lowerText.includes("ne")) {
            return "Bu soruyu daha detaylı inceleyelim. Adım adım nasıl ilerleyebileceğimizi tartışabiliriz.";
        }
        return response;
    }

    // Chat mesajlarını ekle
    function addMessage(text, sender) {
        var chatMessages = document.getElementById('chatMessages');
        var messageElem = document.createElement('div');
        messageElem.classList.add('message', sender);
        var bubble = document.createElement('span');
        bubble.classList.add('bubble');
        bubble.innerText = text;
        messageElem.appendChild(bubble);
        chatMessages.appendChild(messageElem);
        chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    // Kullanıcı girişi al ve yanıt oluştur
    document.getElementById('sendBtn').addEventListener('click', function() {
        var userInput = document.getElementById('userInput');
        var userText = userInput.value.trim();
        if (userText === '') return;
        addMessage(userText, 'user');
        document.getElementById('userInput').value = '';
        setTimeout(function() {
            var botResponse = generateResponse(userText);
            addMessage(botResponse, 'bot');
        }, 500);
    });

    // Enter tuşu ile gönderme
    document.getElementById('userInput').addEventListener('keydown', function(e) {
        if (e.key === 'Enter') {
            document.getElementById('sendBtn').click();
        }
    });

    // İlk selamlama mesajı
    window.onload = function() {
        var welcomeMessage = "UNDCTP'ye hoş geldiniz! Dilediğiniz konuda soru sorabilirsiniz.";
        addMessage(welcomeMessage, 'bot');
    };

</script>

</body>
</html>
