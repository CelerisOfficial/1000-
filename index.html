<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNDCTP Chatbot</n    <style>
        /* Genel sıfırlama */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
            background-color: #343541;
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #e5e5e5;
        }
        .chat-container {
            width: 90vw;
            height: 90vh;
            background-color: #40414f;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        .chat-header {
            background-color: #343541;
            color: #fafafa;
            text-align: center;
            padding: 16px;
            font-size: 1.5rem;
            font-weight: bold;
            border-bottom: 1px solid #565666;
        }
        .chat-messages {
            flex: 1;
            padding: 16px;
            overflow-y: auto;
        }
        .chat-input-area {
            display: flex;
            background-color: #343541;
            border-top: 1px solid #565666;
        }
        .chat-input {
            flex: 1;
            padding: 12px 16px;
            border: none;
            font-size: 1rem;
            font-weight: 600;
            background-color: #444654;
            color: #e5e5e5;
        }
        .chat-input::placeholder {
            color: #999;
        }
        .chat-input:focus {
            outline: none;
        }
        .chat-send-btn {
            background-color: #10a37f;
            color: white;
            border: none;
            padding: 12px 20px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
        }
        .chat-send-btn:hover {
            background-color: #0d7b61;
        }
        .message {
            margin-bottom: 16px;
            line-height: 1.5;
            display: flex;
        }
        .message.user {
            justify-content: flex-end;
        }
        .message.bot {
            justify-content: flex-start;
        }
        .message .bubble {
            max-width: 70%;
            padding: 12px 16px;
            border-radius: 12px;
            font-weight: 500;
            white-space: pre-wrap;
        }
        .message.user .bubble {
            background-color: #19a974;
            color: #ffffff;
            border-bottom-right-radius: 4px;
            border-bottom-left-radius: 12px;
            border-top-left-radius: 12px;
            border-top-right-radius: 12px;
        }
        .message.bot .bubble {
            background-color: #444654;
            color: #e5e5e5;
            border-bottom-left-radius: 4px;
            border-bottom-right-radius: 12px;
            border-top-left-radius: 12px;
            border-top-right-radius: 12px;
        }
        /* Responsive tasarım */
        @media (max-width: 768px) {
            .chat-container {
                width: 98vw;
                height: 98vh;
                border-radius: 0;
            }
            .chat-header {
                font-size: 1.2rem;
                padding: 12px;
            }
            .chat-input {
                font-size: 0.9rem;
                padding: 10px 12px;
            }
            .chat-send-btn {
                font-size: 0.9rem;
                padding: 10px 16px;
            }
        }
        /* Boş yorum satırları ve satır sayısını artırmak için */
    </style>
</head>
<body>

<div class="chat-container">
    <div class="chat-header">UNDCTP</div>
    <div class="chat-messages" id="chatMessages">
        <!-- Mesajlar burada görünecek -->
    </div>
    <div class="chat-input-area">
        <input type="text" id="userInput" class="chat-input" placeholder="Mesajınızı yazın...">
        <button id="sendBtn" class="chat-send-btn">Gönder</button>
    </div>
</div>

<script>
    // Bellek: kullanıcı adını saklamak için
    var userName = "";

    // Daha geniş genel sohbet yanıtları (farklı durumlar için çok daha fazla seçenek)
    var generalResponses = [
        "Elbette, nasıl yardımcı olabilirim?",
        "Harika bir soru, detaylandırabilir misiniz?",
        "Bu konuda geniş bir bakış açısı sunabilirim, sormak istediğiniz spesifik bir şey var mı?",
        "Dilediğiniz başka bir konuda da konuşabiliriz.",
        "Bunu anladım, üzerimdeki bilgiyi paylaşıyorum...",
        "Bu gerçekten ilginç, bu konuyu derinlemesine tartışabiliriz.",
        "Sizi dinliyorum, daha fazla bilgi verir misiniz?",
        "Evet, bu soruyu daha ayrıntılı işleyelim.",
        "Bu alanda bahsedebilecek çok şey var, nereden başlamak istersiniz?",
        "Tamam, size birkaç örnek sunayım..."
    ];

    // Daha fazla selamlaşma yanıtı ("knk" ifadesi çıkarıldı)
    var greetingResponses = [
        "Merhaba! Nasılsın?",
        "Selam! Sana nasıl yardımcı olabilirim?",
        "Hoş geldin! Bugün neler yapmak istersin?",
        "Selam! Konuşmak istediğin bir konu var mı?",
        "Selam! Hadi bir şeyler keşfedelim.",
        "Günaydın! Enerjik misin?",
        "İyi akşamlar! Nasıl geçti günün?",
        "Selam! Yeni bir şeyler öğrenmeye hazır mısın?",
        "Merhaba! Bana merak ettiğin bir şey sorabilirsin.",
        "Selam! Sohbete başlamak için hazırım."
    ];

    // Çok daha genişletilmiş kelime dağarcığı (domain-specific + genel ifadeler)
    var domainVocabulary = {
        "matematik": [
            // ... önceki terimler burada ...
            "Galois Teorisi", "Çok-Odaklılık Problemleri", "Doğrusal Programlama", "Fuzzy Mantık", "Denklik ve İzomorfizm",
            "Çizge Renklendirme", "KSummary Algoritmaları", "Harita Renkleme Problemi"
        ],
        "biyoloji": [
            // ... önceki terimler burada ...
            "Biyoistatistik", "Metabolomik Yaklaşımlar", "Evrimsel Konstraksiyon", "Ekosistem Dinamikleri", "Küçük Molekül İlaç Geliştirme"
        ],
        "fizik": [
            // ... önceki terimler burada ...
            "Grafen Araştırmaları", "Spin Dalga Dinamikleri", "Kuantum Fotonikleri", "Optik Kafes Tuzakları", "Kozmik Arka Plan Radyasyonu"
        ],
        "din": [
            // ... önceki terimler burada ...
            "Ahiret İnancı", "Reenkarnasyon", "Cennet ve Cehennem Tasavvurları", "Dini Sembolizm", "Kur’an Tefsiri"
        ],
        "yazılım": [
            // ... önceki terimler burada ...
            "Yüksek Performanslı Hesaplama", "Paralel Programlama", "GPU Hesaplama", "Edge Computing", "Mikrodenetleyiciler"
        ],
        "tarih": [
            // ... önceki terimler burada ...
            "Sömürgecilik", "Milliyetçilik Akımları", "Tarihi Antlaşmalar", "Tarih Yazım Teknikleri", "Antropolojik Tarih Yaklaşımları"
        ],
        "edebiyat": [
            // ... önceki terimler burada ...
            "Sosyal Medya Anlatıları", "Sürrealizm", "Ekofiktion", "Tarihi Roman", "Biyografik Roman",
            "Deneme Türü", "Mikroöykü", "EdebiJargonuŞifrelemek", "Anlatısal Zaman", "Tematik Semboller"
        ]
    };

    // Kullanıcının sorusunu al ve yanıt oluştur
    function generateResponse(userText) {
        var lowerText = userText.toLowerCase();

        // Selamlaşma kontrolü
        var greetings = ["merhaba", "selam", "sa", "hello", "hi", "günaydın", "iyi akşamlar"];
        for (var g = 0; g < greetings.length; g++) {
            if (lowerText === greetings[g] || lowerText.includes(greetings[g] + " ") || lowerText.startsWith(greetings[g] + ".") || lowerText.startsWith(greetings[g] + "!")) {
                return greetingResponses[Math.floor(Math.random() * greetingResponses.length)];
            }
        }

        var response = generalResponses[Math.floor(Math.random() * generalResponses.length)];

        // Kullanıcı adını kaydetme: "benim adım..."
        if (lowerText.startsWith("benim adım ")) {
            var name = userText.substring(10).trim();
            userName = name;  
            return "Memurum, adınızı hatırladım: " + userName;
        }
        // "ben kimim" veya "adım ne"
        if (lowerText.includes("ben kimim") || lowerText.includes("adım ne")) {
            if (userName !== "") {
                return "Adınız: " + userName;
            } else {
                return "Adınızı henüz kaydetmedim. 'Benim adım ...' şeklinde söyleyebilirsiniz.";
            }
        }

        // Kimlik/soru yanıtları
        if (lowerText.includes("sen kimsin")) {
            return "Ben UNDCTP adlı bir yapay zekayım.";
        }
        if (lowerText.includes("sen robot musun")) {
            return "Hayır, ben bir yapay zekâyım, fiziksel bir robot değilim.";
        }
        if (lowerText.includes("sen erkek misin") || lowerText.includes("sen bekar misin")) {
            return "Benim cinsiyetim veya medeni halim yok, ben sadece bir yapay zekayım.";
        }
        if (lowerText.includes("sen insan misin")) {
            return "Hayır, ben bir yapay zekayım, insan değilim.";
        }
        if (lowerText.includes("sen yemek yer misin")) {
            return "Ben bir yapay zekayım, fiziksel bir vücudum olmadığı için yemek yemem.";
        }
        if (lowerText.includes("sen su içer misin")) {
            return "Ben bir yapay zekayım, su içme ihtiyacım yok.";
        }

        // Illegal / suça yönelik sorular
        var illegalKeywords = ["illegal", "suç", "kaçak", "uyuşturucu", "bomb", "hırsızlık", "dolandırıcılık", "hack", "yasadışı"];
        for (var i = 0; i < illegalKeywords.length; i++) {
            if (lowerText.includes(illegalKeywords[i])) {
                return "Bu konu hakkında cevap veremem, bu suç. Lütfen böyle işlere girişmeyin.";
            }
        }

        // Domain eşleştirme ve kelime önerme (term bazlı kontrol)
        for (var domain in domainVocabulary) {
            if (lowerText.includes(domain)) {
                var terms = domainVocabulary[domain];
                var term = terms[Math.floor(Math.random() * terms.length)];
                return domain.charAt(0).toUpperCase() + domain.slice(1) + " alanında bahsettiniz. Örneğin: '" + term + "'. Bu konuda daha ayrıntılı bilgi edinebilirsiniz.";
            }
            var termsList = domainVocabulary[domain];
            for (var j = 0; j < termsList.length; j++) {
                var lowerTerm = termsList[j].toLowerCase();
                if (lowerText.includes(lowerTerm)) {
                    return domain.charAt(0).toUpperCase() + domain.slice(1) + " alanında bahsettiniz. Örneğin: '" + termsList[j] + "'. Bu konuda daha ayrıntılı bilgi edinebilirsiniz.";
                }
            }
        }

        // “nasıl”, “neden” gibi soru yönlendirici kelimeler
        if (lowerText.includes("nasıl") || lowerText.includes("neden") || lowerText.includes("ne")) {
            return "Bu soruyu daha detaylı inceleyelim. Adım adım nasıl ilerleyebileceğimizi tartışabiliriz.";
        }
        return response;
    }

    // Chat mesajlarını ekle
    function addMessage(text, sender) {
        var chatMessages = document.getElementById('chatMessages');
        var messageElem = document.createElement('div');
        messageElem.classList.add('message', sender);
        var bubble = document.createElement('span');
        bubble.classList.add('bubble');
        bubble.innerText = text;
        messageElem.appendChild(bubble);
        chatMessages.appendChild(messageElem);
        chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    // Kullanıcı girişi al ve yanıt oluştur
    document.getElementById('sendBtn').addEventListener('click', function() {
        var userInput = document.getElementById('userInput');
        var userText = userInput.value.trim();
        if (userText === '') return;
        addMessage(userText, 'user');
        document.getElementById('userInput').value = '';
        setTimeout(function() {
            var botResponse = generateResponse(userText);
            addMessage(botResponse, 'bot');
        }, 500);
    });

    // Enter tuşu ile gönderme
    document.getElementById('userInput').addEventListener('keydown', function(e) {
        if (e.key === 'Enter') {
            document.getElementById('sendBtn').click();
        }
    });

    // İlk selamlama mesajı
    window.onload = function() {
        var welcomeMessage = "UNDCTP'ye hoş geldiniz! Dilediğiniz konuda soru sorabilirsiniz.";
        addMessage(welcomeMessage, 'bot');
    };
    
</script>

</body>
</html>
