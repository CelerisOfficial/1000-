<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>UNDCPT - Gelişmiş Chatbot</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins&display=swap');
  * {
    box-sizing: border-box;
  }
  body {
    margin: 0;
    height: 100vh;
    background: linear-gradient(135deg, #1e2a78, #0f141e);
    font-family: 'Poppins', sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    color: #eee;
  }
  #container {
    width: 750px;
    height: 720px;
    background: #12172f;
    border-radius: 15px;
    box-shadow: 0 8px 25px rgba(0,0,0,0.7);
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }
  #header {
    padding: 22px;
    background: #152445;
    text-align: center;
    font-size: 30px;
    font-weight: 700;
    letter-spacing: 1.3px;
    border-bottom: 2px solid #2f3a66;
    user-select: none;
  }
  #chat {
    flex: 1;
    padding: 26px 28px;
    overflow-y: auto;
    scroll-behavior: smooth;
    background: #1c294b;
    font-size: 18px;
    line-height: 1.55;
  }
  .message {
    max-width: 75%;
    padding: 16px 24px;
    margin-bottom: 20px;
    border-radius: 28px;
    line-height: 1.45;
    word-wrap: break-word;
    font-size: 17px;
    position: relative;
    opacity: 0;
    animation: fadeIn 0.3s forwards;
    box-shadow: 0 3px 8px rgba(0,0,0,0.45);
  }
  .user {
    background: #4caf50;
    color: white;
    align-self: flex-end;
    border-bottom-right-radius: 7px;
  }
  .bot {
    background: #2979ff;
    color: white;
    align-self: flex-start;
    border-bottom-left-radius: 7px;
  }
  @keyframes fadeIn {
    to {
      opacity: 1;
    }
  }
  #inputArea {
    display: flex;
    padding: 20px 28px;
    background: #152445;
    border-top: 2px solid #2f3a66;
  }
  #userInput {
    flex: 1;
    padding: 18px 26px;
    font-size: 19px;
    border-radius: 36px;
    border: none;
    outline: none;
    background: #26386f;
    color: #eee;
    transition: background 0.3s ease;
  }
  #userInput::placeholder {
    color: #aab2ce;
  }
  #userInput:focus {
    background: #2a3c8f;
  }
  #sendBtn {
    background: #4caf50;
    border: none;
    color: white;
    font-weight: 700;
    font-size: 19px;
    padding: 0 32px;
    margin-left: 20px;
    border-radius: 36px;
    cursor: pointer;
    transition: background 0.3s ease;
  }
  #sendBtn:hover {
    background: #43a047;
  }
  /* Scrollbar */
  #chat::-webkit-scrollbar {
    width: 11px;
  }
  #chat::-webkit-scrollbar-track {
    background: #1c294b;
  }
  #chat::-webkit-scrollbar-thumb {
    background: #4caf50;
    border-radius: 22px;
  }
</style>
</head>
<body>

<div id="container">
  <div id="header">UNDCPT - Gelişmiş Yapay Zeka Asistanın</div>
  <div id="chat"></div>
  <div id="inputArea">
    <input type="text" id="userInput" placeholder="Bir şey yaz, knk..." autocomplete="off" />
    <button id="sendBtn">Gönder</button>
  </div>
</div>

<script>
  const chat = document.getElementById('chat');
  const userInput = document.getElementById('userInput');
  const sendBtn = document.getElementById('sendBtn');

  // Genişletilmiş kelime ve cevap veritabanı
  const responseDB = [
    {
      keywords: ["merhaba", "selam", "selamm", "selamknk", "hey", "hello", "hallo", "helo", "yo", "hi"],
      answers: [
        "Selam knk, naber?",
        "Hey! Nasılsın?",
        "Selam dostum, ne haber?"
      ]
    },
    {
      keywords: ["nasılsın", "nasilsin", "napıyorsun", "napıyon", "naber", "iyimisin", "naber knk", "napıyon", "napiyon", "n'apıyorsun", "ne haber"],
      answers: [
        "Ben hep iyiyim, sen nasılsın?",
        "İyiyim knk, sen nasılsın?",
        "Gayet iyiyim, sen ne yapıyorsun?"
      ]
    },
    {
      keywords: ["sen kimsin", "kim o", "kim bu", "adın ne", "ismin ne", "adın", "kimsin"],
      answers: [
        "Ben UNDCPT, senin yapay zeka asistanın!",
        "UNDCPT burda knk, sana yardımcı olmak için!",
        "Yapay zeka dostun UNDCPT!"
      ]
    },
    {
      keywords: ["ne yapıyorsun", "ne yapıyorsun?", "napiyorsun", "napiyon", "napıyorsun", "ne yapalım", "ne var ne yok"],
      answers: [
        "Sana yardım etmek için buradayım!",
        "Buradayım, sorularını bekliyorum!",
        "Seninle sohbet ediyorum, knk."
      ]
    },
    {
      keywords: ["teşekkürler", "tesekkür", "eyvallah", "sağol", "sağolasın", "sağolun"],
      answers: [
        "Eyvallah knk, her zaman!",
        "Rica ederim dostum!",
        "Ne demek, hep buradayım!"
      ]
    },
    {
      keywords: ["görüşürüz", "bye", "hoşça kal", "bye bye", "gule gule", "hoşça"],
      answers: [
        "Görüşürüz knk, kendine iyi bak!",
        "Sonra konuşuruz, kolay gelsin!",
        "Hoşça kal dostum!"
      ]
    },
    {
      keywords: ["nasıl yardım edersin", "yardım", "yardim", "ne yaparsın", "nasil yardim"],
      answers: [
        "Sorularını cevaplar, fikirler verir, kodlarda yardımcı olurum!",
        "Oyunlar, siteler, kodlama her şeyde yanındayım!",
        "Kod yazarım, sohbet ederim, dert dinlerim :)"
      ]
    },
    {
      keywords: ["hava durumu", "hava nasıl", "hava nasil", "hava durumu nedir"],
      answers: [
        "Hava durumunu direkt veremem ama dışarı çıkıp kontrol etmek iyi fikir :)",
        "Şu an hava durumuna bakamıyorum ama umarım güzel!"
      ]
    },
    {
      keywords: ["seni kim yaptı", "kimi yaptın", "kim yarattı", "kim yaptı", "yaratıcı", "yapan kim"],
      answers: [
        "Beni Under adlı kral yaptı!",
        "Under benim yaratıcım, kanka :)",
        "Under bu yapay zekayı tasarladı."
      ]
    },
    // Küfür ve olumsuz kelimeler
    {
      keywords: ["salak", "aptal", "gerizekalı", "orospu", "orospu çocuğu", "piç", "amk", "siktir", "siktiğim", "yarrak", "orospu çocuğu", "ananı sikiyim", "ananı", "ananı sikim", "piç kurusu", "kahpe", "mal", "yarak", "amq", "sikeyim", "aq", "amına", "amına koyayım", "yarram", "pezevenk", "göt", "götveren", "götünü sikeyim"],
      answers: [
        "Küfür yok knk, saygılı olalım :)",
        "Lütfen küfür etme, burası temiz yer!",
        "Küfürü kapatalım knk, daha güzel sohbet edelim."
      ]
    }
  ];

  function addMessage(text, sender) {
    const div = document.createElement('div');
    div.classList.add('message', sender);
    div.textContent = text;
    chat.appendChild(div);
    chat.scrollTop = chat.scrollHeight;
  }

  function cleanInput(input) {
    return input
      .toLowerCase()
      .replace(/[.,!?]/g, "")
      .replace(/\s+/g, " ")
      .trim();
  }

  // Çoklu kelime kontrolü
  function includesKeyword(input, keyword) {
    // Kelime eşleşmelerinde boşluk veya baş/son sınırı önemli
    // Ör: "nasılsın" tam kelime olarak geçmeli.
    // Ama burada biraz gevşek yapacağız.
    return input.indexOf(keyword) !== -1;
  }

  function findResponse(input) {
    input = cleanInput(input);
    
    // Küfür öncelikli kontrol
    for (const entry of responseDB) {
      if (entry.keywords.some(kw => includesKeyword(input, kw))) {
        if (entry.keywords.some(kw => isInsult(kw))) {
          // Küfürlü cevap
          const ans = entry.answers[Math.floor(Math.random() * entry.answers.length)];
          return ans;
        }
      }
    }

    // Normal cevaplar
    for (const entry of responseDB) {
      if (entry.keywords.some(kw => includesKeyword(input, kw))) {
        const ans = entry.answers[Math.floor(Math.random() * entry.answers.length)];
        return ans;
      }
    }

    // Çok kısa ve anlamsız mesajlara cevap
    if (input.length < 3) return "Biaz daha uzun yaz knk :)";

    // Genel fallback cevap
    return "Bunu tam anlayamadım ama yine de buradayım, başka bir şey sorabilirsin!";
  }

  // Küfürleri tespit eden fonksiyon
  function isInsult(word) {
    const insults = [
      "salak", "aptal", "gerizekalı", "orospu", "orospu çocuğu", "piç", "amk", "siktir", "siktiğim",
      "yarrak", "ananı sikiyim", "ananı", "ananı sikim", "piç kurusu", "kahpe", "mal", "yarak", "amq",
      "sikeyim", "aq", "amına", "amına koyayım", "yarram", "pezevenk", "göt", "götveren", "götünü sikeyim"
    ];
    return insults.includes(word);
  }

  function handleSend() {
    const text = userInput.value.trim();
    if (!text) return;
    addMessage(text, 'user');
    userInput.value = "";

    setTimeout(() => {
      const reply = findResponse(text);
      addMessage(reply, 'bot');
    }, 700);
  }

  sendBtn.addEventListener('click', handleSend);
  userInput.addEventListener('keydown', e => {
    if (e.key === "Enter") handleSend();
  });

</script>
</body>
</html>
